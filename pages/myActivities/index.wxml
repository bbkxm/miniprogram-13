<view class="container">
  <!-- é¡¶éƒ¨Tabåˆ‡æ¢ -->
  <view class="tabs">
    <view 
      class="tab {{currentTab === 'created' ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-type="created"
    >æˆ‘åˆ›å»ºçš„</view>
    <view 
      class="tab {{currentTab === 'joined' ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-type="joined"
    >æˆ‘åŠ å…¥çš„</view>
  </view>

  <!-- æ´»åŠ¨åˆ—è¡¨ -->
  <view class="activities">
    <!-- åŠ è½½ä¸­çŠ¶æ€ -->
    <view wx:if="{{loading}}" class="loading">
      <t-loading theme="circular" size="40rpx" text="åŠ è½½ä¸­..." />
    </view>

    <!-- æ´»åŠ¨åˆ—è¡¨å†…å®¹ -->
    <block wx:else>
      <view class="activity-list" wx:if="{{activities.length > 0}}">
        <view 
          class="activity-item" 
          wx:for="{{activities}}" 
          wx:key="id"
          bindtap="navigateToDetail"
          data-id="{{item.id}}"
        >
          <image class="activity-image" src="{{item.coverImage}}" mode="aspectFill"></image>
          <view class="activity-info">
            <view class="activity-title">{{item.title}}</view>
            <view class="activity-meta">
              <view class="activity-time">
                <text class="time-icon">ğŸ•’</text>
                <text>{{item.startTime}}</text>
              </view>
              <view class="activity-count">
                <text class="count-icon">ğŸ‘¥</text>
                <text>{{item.participants.length}}äººå‚ä¸</text>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- ç©ºçŠ¶æ€ -->
      <view wx:else class="empty">
        <image class="empty-icon" src="/images/empty.png"></image>
        <text class="empty-text">{{currentTab === 'created' ? 'æš‚æœªåˆ›å»ºæ´»åŠ¨' : 'æš‚æœªå‚åŠ æ´»åŠ¨'}}</text>
        <button 
          class="action-button" 
          bindtap="{{currentTab === 'created' ? 'navigateToCreate' : 'navigateToExplore'}}"
        >
          {{currentTab === 'created' ? 'å‘èµ·æ´»åŠ¨' : 'å»æµè§ˆ'}}
        </button>
      </view>
    </block>
  </view>
</view> 